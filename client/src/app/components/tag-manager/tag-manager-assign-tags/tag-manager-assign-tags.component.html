<div *ngIf="showAlert" class="flex inline-flex justify-between bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 my-2 rounded" role="alert">
  <span class="block sm:inline pl-2">
    <strong class="font-bold">Error:</strong> {{ alertMessage }}
  </span>
  <span class="inline" (click)="showAlert = false;">
    <svg class="fill-current h-6 w-6" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
      <title>Close</title>
      <path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
    </svg>
  </span>
</div>
<div style="overflow-y: auto; max-height: 260px; padding-right: 15px; width: 100%;">
  <div style="width: 100%;">
    <label for="location" class="block text-sm font-medium text-gray-700">Seleccione la etiqueta a asignar a los archivos:</label>
    <select id="tag_selector" name="tag_selector" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
        (change)="onSelectOption($event)">
      <option disabled selected value="">Selecciona una opción</option>
      <option *ngFor="let tag of tags">{{ tag }}</option> <!-- Genera opciones dinámicamente -->
    </select>
  </div>
  <br />
  <div class="grid_columns"  *ngIf="optionSelected" style="width: 100%; display: flex; max-width: 1200px;">
    <div class="filter_column" style="width: 100%;">
      <div class="filter_header">
        <h6>Filtro de etiquetas</h6>
      </div>
      <div class="file_search_wrapper">
        <input type="text" placeholder="Buscar archivos" (input)="filterFiles($event)" class="search_input">
        <span class="search_icon"></span>
      </div>
      <div class="file_type_filter" style="width: 100%;">
        <label for="location" class="block text-sm font-medium text-gray-700" style="margin-bottom: 5px; margin-top: 12px;">Tipo de archivo: </label>
        <select id="file_type_filter" name="file_type_filter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
                (change)="filterByFileType($event)">
          <option></option>
          <option>Documento Word</option>
          <option>PDF</option>
          <option>Audio</option>
          <option>Video</option>
          <option>PowerPoint</option>
          <option>Imagen</option>
        </select>
      </div>
      <div style="margin-top: 25px;">
        <button *ngIf="atLeastOneChecked" type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-yellow-300 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-200" (click)="assignTags()">Asignar etiqueta(s)</button>
      </div>  
    </div>
    <div class="assign-tags_column">
      <fieldset class="members-fieldset">
        <legend class="text-lg font-medium text-gray-900">Selecciona el o los archivos</legend>
        <div class="member" *ngFor="let file of filteredFiles">
          <div class="checkbox-container" (click)="toggleCheckbox(file)">
              <input type="checkbox" [checked]="file.checked" class="member-checkbox">
              <div class="checkmark"></div>
          </div>
          <label class="member-label">{{ file.name }}</label>
        </div>          
      </fieldset>
      <br />
    </div>
  </div>
</div>